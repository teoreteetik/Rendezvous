<div class="page-content inset" data-ng-show="auth.hasPrivilege('ADD_TOPIC')">
  <div>
    <h1>{{topic.title}}</h1>
  </div>

  <div class="preview" id="marked-mathjax-preview"></div>
  <div class="preview" id="marked-mathjax-preview-buffer"></div>

  <span>{{message}}</span>
  <fieldset>
    <legend>Uus teema</legend>
    <div class="form-group">
      <label for="topicTitle">Pealkiri:</label>
      <input type="text" name="topicTitle" id="topicTitle" class="form-control" data-ng-model="topic.title">
    </div>
    <div class="form-group">
      <label for="previewText">Sisu</label>
      <textarea id="previewText"
                onkeyup="Preview.Update()"
                name="topicText"
                data-ng-model="topic.textPlain"
                class="form-control"
                rows="10"></textarea>
      </div>
      <div class="checkbox">
        <label>
          <input type="checkbox" data-ng-model="topic.anonymous">
          Anonüümus
        </label>
      </div>
      <button class="btn btn-primary" data-ng-click="addTopic(topic)">Postita</button>
   </fieldset>
</div>
<script>
  Preview.Init();Preview.Update();
</script>